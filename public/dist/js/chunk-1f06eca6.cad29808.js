(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f06eca6"],{6485:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"h-100 bg-plum-plate bg-animation"},[s("div",{staticClass:"d-flex h-100 justify-content-center align-items-center"},[s("b-col",{staticClass:"mx-auto app-login-box",attrs:{md:"8"}},[s("b-alert",{attrs:{show:e.form.hasSuccessMessage(),variant:"success",dismissible:""}},[e._v("\n                    "+e._s(e.form.getSuccessMessage())+"\n                ")]),s("b-alert",{attrs:{show:""!==e.resendMessage,variant:"success",dismissible:""}},[e._v("\n                    "+e._s(e.resendMessage)+"\n                ")]),s("b-alert",{attrs:{show:e.form.errors.hasMessage(),variant:"danger",dismissible:""}},[e._v("\n                    "+e._s(e.form.errors.getMessage())+"\n                ")]),s("div",{staticClass:"modal-dialog w-100 mx-auto"},[s("b-form",{attrs:{id:"checkpoint-form"},on:{submit:function(t){return t.preventDefault(),e.check(t)},keydown:function(t){return e.form.errors.clear()}}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-body"},[s("div",{staticClass:"h5 modal-title text-center"},[s("h4",{staticClass:"mt-2"},[s("div",[e._v(e._s(e.app.name))]),s("span",[e._v(e._s(e.otp.prompt(e.user.otp_type)))]),s("br"),s("span",[e._v("Please verify your OTP below.")])])]),s("b-form-group",{attrs:{id:"otpInputGroup","label-for":"otp"}},[s("b-form-input",{attrs:{id:"otp",type:"text",name:"otp",placeholder:"Enter OTP..."},model:{value:e.form.otp,callback:function(t){e.$set(e.form,"otp",t)},expression:"form.otp"}}),s("b-form-invalid-feedback",{attrs:{state:!e.form.errors.has("otp")},domProps:{textContent:e._s(e.form.errors.get("otp"))}})],1),s("div",{staticClass:"divider"})],1),s("div",{staticClass:"modal-footer clearfix"},[s("div",{staticClass:"float-left"},[s("b-button",{staticClass:"btn-lg btn btn-link",attrs:{id:"logout",disabled:e.isLoggingOut},on:{click:e.logout}},[e.isLoggingOut?s("b-spinner",{staticClass:"resend-spinner",attrs:{small:""}}):e._e(),e._v("\n                                        Logout\n                                    ")],1)],1),e.otp.resendable(e.user.otp_type)?s("div",{staticClass:"float-left"},[s("b-button",{attrs:{id:"resend",type:"button",variant:"primary",size:"lg",disabled:e.isResending},on:{click:e.resend}},[e.isResending?s("b-spinner",{staticClass:"resend-spinner",attrs:{small:""}}):e._e(),e._v("\n                                        Resend\n                                    ")],1)],1):e._e(),s("div",{staticClass:"float-right"},[s("b-button",{attrs:{id:"verify",type:"submit",variant:"primary",size:"lg",disabled:e.form.errors.any()||e.form.isLoading()}},[e.form.isLoading()?s("b-spinner",{staticClass:"spinner",attrs:{small:""}}):e._e(),e._v("\n                                        Verify\n                                    ")],1)],1)])])])],1),s("div",{staticClass:"text-center text-white opacity-8 mt-3"},[e._v("\n                    Copyright Â© "+e._s(e.app.companyName)+" "+e._s(e.year)+"\n                ")])],1)],1)])])},r=[],a=(s("8e6e"),s("ac6a"),s("456d"),s("a481"),s("ade3")),i=s("dbcd"),o={types:{pin:{prompt:"Use your PIN as OTP.",resendable:!1},mail:{prompt:"We've sent an OTP to your email.",resendable:!0},sms:{prompt:"We've sent an OTP to your phone.",resendable:!0},google2fa:{prompt:"Use OTP from your Google Authenticator app.",resendable:!1}},prompt:function(e){return this.types[e].prompt},resendable:function(e){return this.types[e].resendable}},c=s("2f62");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var p={data:function(){return{app:app,otp:o,isResending:!1,resendMessage:"",year:(new Date).getFullYear(),form:new i["a"]({otp:""})}},computed:l({},Object(c["c"])("login",["user","isLoggingOut"])),methods:l(l(l(l({},Object(c["b"])("login",["unauthenticate"])),Object(c["b"])("checkpoint",["verify"])),Object(c["d"])("login",["SET_IS_LOGGING_OUT"])),{},{check:function(){var e=this;this.verify(this.form).then((function(){e.$router.replace({name:"dashboard"})}))},resend:function(){var e=this;this.isResending=!0,axios.get("/api/checkpoint/resend").then((function(t){e.resendMessage=t.data.message,e.isResending=!1})).catch((function(t){console.error(t.response.data.message),e.isResending=!1}))},logout:function(){var e=this;this.unauthenticate().then((function(){return e.$router.replace({name:"login"})})).catch((function(e){return console.error(e.response.data.message)}))}})},d=p,f=s("2877"),h=Object(f["a"])(d,n,r,!1,null,null,null);t["default"]=h.exports},dbcd:function(e,t,s){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,s){return t&&r(e.prototype,t),s&&r(e,s),e}s("ac6a"),s("456d");var i=function(){function e(){n(this,e),this.message="",this.errors={}}return a(e,[{key:"hasMessage",value:function(){return!!this.message&&this.any()}},{key:"getMessage",value:function(){return this.message}},{key:"has",value:function(e){return this.errors.hasOwnProperty(e)}},{key:"any",value:function(){return Object.keys(this.errors).length>0}},{key:"get",value:function(e){if(this.errors[e])return this.errors[e][0]}},{key:"record",value:function(e){this.message=e.message,this.errors=e.errors}},{key:"clear",value:function(e){e?delete this.errors[e]:(this.message="",this.errors={})}}]),e}(),o=function(){function e(t){for(var s in n(this,e),this.originalData=t,t)this[s]=t[s];this.errors=new i,this.successMessage="",this.loading=!1}return a(e,[{key:"isLoading",value:function(){return this.loading}},{key:"hasSuccessMessage",value:function(){return!!this.successMessage}},{key:"getSuccessMessage",value:function(){return this.successMessage}},{key:"data",value:function(){var e={};for(var t in this.originalData)e[t]=this[t];return e}},{key:"remove",value:function(e){e&&delete this.originalData[e]}},{key:"reset",value:function(){for(var e in this.originalData)this[e]="";this.errors.clear()}},{key:"post",value:function(e){return this.submit("post",e)}},{key:"put",value:function(e){return this.submit("put",e)}},{key:"patch",value:function(e){return this.submit("patch",e)}},{key:"delete",value:function(e){return this.submit("delete",e)}},{key:"submit",value:function(e,t){var s=this;return this.loading=!0,new Promise((function(n,r){axios[e](t,s.data()).then((function(e){s.onSuccess(e.data),n(e.data)})).catch((function(e){s.onFail(e.response.data),r(e.response.data)}))}))}},{key:"onSuccess",value:function(e){this.successMessage=e.message,this.reset(),this.loading=!1}},{key:"onFail",value:function(e){this.errors.record(e),this.loading=!1}}]),e}();t["a"]=o}}]);